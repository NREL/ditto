<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>DiTTo examples - ditto</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "DiTTo examples";
        var mkdocs_page_input_path = "cli-examples.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> ditto
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">DiTTo documentation!</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../authors/">Credits</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="./">DiTTo examples</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#basic-usage-converting-from-one-format-to-another">Basic usage: Converting from one format to another</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#method-1-through-the-command-line">Method 1: Through the command line</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#the-convert-command">The convert command</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#from-and-to">From and To</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#input">Input</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#output">Output</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#examples">Examples</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#convert-the-ieee-4-node-from-gridlabd-to-opendss">Convert the IEEE 4 node from GridlabD to OpenDSS</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#convert-the-ieee-13-node-from-opendss-to-cyme">Convert the IEEE 13 node from OpenDSS to CYME</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#method-2-writing-a-script">Method 2: Writing a script</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#step-1-import-the-required-modules">Step 1: Import the required modules</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#step-2-instanciate-an-empty-store">Step 2: Instanciate an empty store</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#step-3-instanciate-a-reader">Step 3: Instanciate a reader</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#step-4-parse">Step 4: Parse</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#step-5-instanciate-the-writer">Step 5: Instanciate the writer</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#step-6-write">Step 6: Write</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../contributing/">Contributing</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../history/">History</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../installation/">Installation</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../metrics/">Metrics documentation</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../modifications/">Modifications documentation</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../notes/">Notes</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../plugin/">Plugin</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../power_flow_minimum_requirements/">Power Flow Minimum Requirements</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../readme/">Introduction</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../usage/">Usage</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Developer guide</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../developer-guide/">Developer Guide</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../developer-guide/docs/">Generating Documentation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../developer-guide/install/">Installation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../developer-guide/style/">Style Guide</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">ditto</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">DiTTo examples</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="ditto-examples">DiTTo examples</h1>
<p>DiTTo basic usage is the conversion from one format to another. This readme explains how a basic conversion can be done with the command line and with a Python script.</p>
<p>Conversion examples with more advanced features can be found in the examples sub-folders.</p>
<h2 id="basic-usage-converting-from-one-format-to-another">Basic usage: Converting from one format to another</h2>
<h3 id="method-1-through-the-command-line">Method 1: Through the command line</h3>
<h4 id="the-convert-command">The convert command</h4>
<p>DiTTo supports a command line interface (CLI) to quickly convert a model. The command is simply:</p>
<pre><code class="language-bash">$ ditto-cli convert
</code></pre>
<p>Help can be obtained using:</p>
<pre><code class="language-bash">$ ditto-cli convert --help
</code></pre>
<h4 id="from-and-to">From and To</h4>
<p>The options <code>—from</code> and <code>—to</code> are easy to understand, they just tell <code>ditto-cli convert</code> what format is expected for the input, and what format is desired for the output. If we want to convert from opendss to gridlabd, we can use:</p>
<pre><code class="language-bash">$ ditto-cli convert --from opendss --to gridlabd
</code></pre>
<p>Note that, we can use short-cut names for the format like:</p>
<pre><code class="language-bash">$ ditto-cli convert --from dss --to glm
</code></pre>
<h4 id="input">Input</h4>
<p>In addition to the formats, we need to provide some input to DiTTo. The main issue here is that inputs are very different accross formats. It is common practice in OpenDSS for example to use master files to redirect all the other dss files, while a Cyme ASCII model is composed of three files: equipment, network, and loads.</p>
<p>To be consistent, the CLI accepts only one file whatever the format. If we have a gridlabd model entirely stored in a file called <code>model.glm</code> we can use:</p>
<pre><code class="language-bash">$ ditto-cli convert --from glm --input ./model.glm --to cyme
</code></pre>
<p>For formats like Cyme where we need multiple input files, we need to write a simple JSON configuration file:</p>
<pre><code class="language-json">!Content of config.json
{
    &quot;data_folder_path&quot;: &quot;/home/cyme_models/ieee_13node/&quot;,
    &quot;network_filename&quot;: &quot;net.txt&quot;,
    &quot;equipment_filename&quot;: &quot;equip.txt&quot;,
    &quot;load_filename&quot;: &quot;loads.txt&quot;
}
</code></pre>
<p>Which results in the following command:</p>
<pre><code class="language-bash">$ ditto-cli convert --from cyme --input ./config.json --to dss
</code></pre>
<h4 id="output">Output</h4>
<p>Finally, we need to tell <code>ditto-cli convert</code> where to write the output. This is done with the <code>—output</code> option. Make sure to provide the path to the folder you want the files to be written in. For example, if we want to output in a folder named <code>./results</code> we do the following:</p>
<pre><code class="language-bash">$ ditto-cli convert --from cyme --input ./config.json --to dss --output ./results/
</code></pre>
<h3 id="examples">Examples</h3>
<h4 id="convert-the-ieee-4-node-from-gridlabd-to-opendss">Convert the IEEE 4 node from GridlabD to OpenDSS</h4>
<p>Run the following command:</p>
<pre><code class="language-bash">$ ditto-cli convert --input ../tests/data/gridlabd/4node.glm --from glm --to dss --output ./
</code></pre>
<h4 id="convert-the-ieee-13-node-from-opendss-to-cyme">Convert the IEEE 13 node from OpenDSS to CYME</h4>
<p>Here, we use the configuration file: <code>ditto/examples/ieee_13node_opendss_input.json</code>:</p>
<pre><code class="language-bash">$ ditto-cli convert --input ../examples/ieee_13node_opendss_input.json --from opendss --to cyme --output ./
</code></pre>
<h3 id="method-2-writing-a-script">Method 2: Writing a script</h3>
<p>This is a more advanced method which provides more flexibility and enable the user to access all the functionality of DiTTo. The basic conversion scripts usually go through the following steps:</p>
<h4 id="step-1-import-the-required-modules">Step 1: Import the required modules</h4>
<p>For basic conversion usage, we need to import a reader, a writer, and a <code>Store</code> object:</p>
<pre><code class="language-python">#Import the reader
#...assuming we want to read from OpenDSS
from ditto.readers.opendss.read import Reader

#Import the writer
#...assuming we want to write to Cyme
from ditto.writers.cyme.write import Writer

#Import the Store
#...this will always be the same
from ditto.store import Store
</code></pre>
<h4 id="step-2-instanciate-an-empty-store">Step 2: Instanciate an empty store</h4>
<p>This step is pretty straightforward:</p>
<pre><code class="language-python">model = Store()
</code></pre>
<h4 id="step-3-instanciate-a-reader">Step 3: Instanciate a reader</h4>
<p>This is probably the most delicate step because every reader is a bit different and expects various number of files. Refer to the documentation to know what needs to be provided. In this OpenDSS—&gt;Cyme example, we need to provide a master file and a buscoordinate file to the OpenDSS reader:</p>
<pre><code class="language-python">dss_reader = Reader(master_file=&quot;./dss_models/ieee_13node/master.dss&quot;,
                    buscoordinate_file=&quot;./dss_models/ieee_13node/buscoord.dss&quot;)
</code></pre>
<h4 id="step-4-parse">Step 4: Parse</h4>
<p>This is also pretty simple. We just need to provide the emty <code>Store</code> object we created as an argument of the <code>parse</code> method. All readers implement a <code>parse</code> method:</p>
<pre><code class="language-python">dss_reader.parse(model)
</code></pre>
<h4 id="step-5-instanciate-the-writer">Step 5: Instanciate the writer</h4>
<p>All writers are instanciated in the same way. We only need to provide the path to the output folder:</p>
<pre><code class="language-python">cyme_writer = Writer(output_path=&quot;/results/ieee_13node/&quot;)
</code></pre>
<h4 id="step-6-write">Step 6: Write</h4>
<p>Simply use the <code>write</code> method implemented by all ditto writers. We just need to provide, once again, the <code>Store</code> object as an argument:</p>
<pre><code class="language-python">cyme_writer.write(model)
</code></pre>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../authors/" class="btn btn-neutral float-left" title="Credits"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../contributing/" class="btn btn-neutral float-right" title="Contributing">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../authors/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../contributing/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
