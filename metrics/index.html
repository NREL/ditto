<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Metrics documentation - ditto</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Metrics documentation";
        var mkdocs_page_input_path = "metrics.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> ditto
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">DiTTo documentation!</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../authors/">Credits</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../cli-examples/">DiTTo examples</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../contributing/">Contributing</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../history/">History</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../installation/">Installation</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="./">Metrics documentation</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#list-of-available-metrics">List of available metrics</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#realistic-electrical-design-and-equipment-parameters-mv">Realistic electrical design and equipment parameters (MV)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#realistic-electrical-design-and-equipment-parameters-lv">Realistic electrical design and equipment parameters (LV)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#voltage-control-schemes">Voltage control schemes</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#basic-protection">Basic protection</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#reconfiguration-options">Reconfiguration Options</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#transformers">Transformers</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#substations">Substations</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#load-specification">Load specification</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#graph-topology">Graph Topology</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#how-to-compute-the-metrics">How to compute the metrics</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#easy-situation-compute-metrics-on-a-single-feeder">Easy situation: compute metrics on a single feeder</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#method-1-command-line-interface">Method 1: Command Line Interface</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#method-2-using-a-python-script">Method 2: Using a Python script</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#advanced-compute-metrics-for-multiple-feeders">Advanced: compute metrics for multiple feeders</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#method-1-command-line-interface_1">Method 1: Command Line Interface</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#method-2-using-a-python-script_1">Method 2: Using a Python script</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#step-6-export-the-metrics">Step 6: Export the metrics</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../modifications/">Modifications documentation</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../notes/">Notes</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../plugin/">Plugin</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../power_flow_minimum_requirements/">Power Flow Minimum Requirements</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../readme/">Introduction</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../usage/">Usage</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Developer guide</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../developer-guide/">Developer Guide</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../developer-guide/docs/">Generating Documentation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../developer-guide/install/">Installation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../developer-guide/style/">Style Guide</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">ditto</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Metrics documentation</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="metrics-documentation">Metrics documentation</h1>
<p>DiTTo has the capability to extract metrics from a system once parsed in the core representation. This enables the user to compute metrics when doing a conversion from one format to another.</p>
<p>The advantage compared to computing metrics on a given format is that no conversion is needed prior to the caculation.</p>
<h2 id="list-of-available-metrics">List of available metrics</h2>
<p>Here is the list of implemented metrics with their description. The list is organized in different sections to ease the search.</p>
<h3 id="realistic-electrical-design-and-equipment-parameters-mv">Realistic electrical design and equipment parameters (MV)</h3>
<table>
<thead>
<tr>
<th style="text-align: center;">Metric name</th>
<th style="text-align: center;">Type</th>
<th style="text-align: center;">Unit</th>
<th style="text-align: center;">Metric description</th>
<th style="text-align: center;">Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><em>mv_len_mi</em></td>
<td style="text-align: center;">Float</td>
<td style="text-align: center;">miles</td>
<td style="text-align: center;">The total length of medium voltage lines.</td>
<td style="text-align: center;">Needs the nominal voltages</td>
</tr>
<tr>
<td style="text-align: center;"><em>mv_3ph_len_mi</em></td>
<td style="text-align: center;">Float</td>
<td style="text-align: center;">miles</td>
<td style="text-align: center;">The total length of medium voltage, 3 phase lines.</td>
<td style="text-align: center;">Needs the nominal voltages</td>
</tr>
<tr>
<td style="text-align: center;"><em>mv_oh_3ph_len_mi</em></td>
<td style="text-align: center;">Float</td>
<td style="text-align: center;">miles</td>
<td style="text-align: center;">The total length of medium voltage, overhead, 3 phase lines.</td>
<td style="text-align: center;">Needs the nominal voltages and line_type.</td>
</tr>
<tr>
<td style="text-align: center;"><em>mv_2ph_len_mi</em></td>
<td style="text-align: center;">Float</td>
<td style="text-align: center;">miles</td>
<td style="text-align: center;">The total length of medium voltage, 2 phase lines.</td>
<td style="text-align: center;">Needs the nominal voltages</td>
</tr>
<tr>
<td style="text-align: center;"><em>mv_oh_2ph_len_mi</em></td>
<td style="text-align: center;">Float</td>
<td style="text-align: center;">miles</td>
<td style="text-align: center;">The total length of medium voltage, overhead, 2 phase lines.</td>
<td style="text-align: center;">Needs the nominal voltages and line_type.</td>
</tr>
<tr>
<td style="text-align: center;"><em>mv_1ph_len_mi</em></td>
<td style="text-align: center;">Float</td>
<td style="text-align: center;">miles</td>
<td style="text-align: center;">The total length of medium voltage, 1 phase lines.</td>
<td style="text-align: center;">Needs the nominal voltages</td>
</tr>
<tr>
<td style="text-align: center;"><em>mv_oh_1ph_len_mi</em></td>
<td style="text-align: center;">Float</td>
<td style="text-align: center;">miles</td>
<td style="text-align: center;">The total length of medium voltage, overhead, 1 phase lines.</td>
<td style="text-align: center;">Needs the nominal voltages and line_type.</td>
</tr>
<tr>
<td style="text-align: center;"><em>perct_mv_oh_len</em></td>
<td style="text-align: center;">Float</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">Percentage of MV lines that are overhead lines.</td>
<td style="text-align: center;">Needs the nominal voltages and line_type.</td>
</tr>
<tr>
<td style="text-align: center;"><em>ratio_mv_len_to_num_cust</em></td>
<td style="text-align: center;">Float</td>
<td style="text-align: center;">miles</td>
<td style="text-align: center;">mv_length_miles devided by the number of customers.</td>
<td style="text-align: center;">Needs nominal voltages and load information.</td>
</tr>
<tr>
<td style="text-align: center;"><em>max_sub_node_distance_mi</em></td>
<td style="text-align: center;">Float</td>
<td style="text-align: center;">miles</td>
<td style="text-align: center;">Maximum distance between the substation and any node of the network.</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><em>nominal_medium_voltage_class</em></td>
<td style="text-align: center;">Float</td>
<td style="text-align: center;">Volts</td>
<td style="text-align: center;">Nominal voltage of medium voltage.</td>
<td style="text-align: center;"></td>
</tr>
</tbody>
</table>
<h3 id="realistic-electrical-design-and-equipment-parameters-lv">Realistic electrical design and equipment parameters (LV)</h3>
<table>
<thead>
<tr>
<th style="text-align: center;">Metric name</th>
<th style="text-align: center;">Type</th>
<th style="text-align: center;">Unit</th>
<th style="text-align: center;">Metric description</th>
<th style="text-align: center;">Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><em>lv_len_mi</em></td>
<td style="text-align: center;">Float</td>
<td style="text-align: center;">miles</td>
<td style="text-align: center;">The total length of low voltage lines.</td>
<td style="text-align: center;">Needs the nominal voltages</td>
</tr>
<tr>
<td style="text-align: center;"><em>lv_3ph_len_mi</em></td>
<td style="text-align: center;">Float</td>
<td style="text-align: center;">miles</td>
<td style="text-align: center;">The total length of low voltage, 3 phase lines.</td>
<td style="text-align: center;">Needs the nominal voltages</td>
</tr>
<tr>
<td style="text-align: center;"><em>lv_oh_3ph_len_mi</em></td>
<td style="text-align: center;">Float</td>
<td style="text-align: center;">miles</td>
<td style="text-align: center;">The total length of low voltage, overhead, 3 phase lines.</td>
<td style="text-align: center;">Needs the nominal voltages and line_type.</td>
</tr>
<tr>
<td style="text-align: center;"><em>lv_1ph_len_mi</em></td>
<td style="text-align: center;">Float</td>
<td style="text-align: center;">miles</td>
<td style="text-align: center;">The total length of low voltage, 1 phase lines.</td>
<td style="text-align: center;">Needs the nominal voltages</td>
</tr>
<tr>
<td style="text-align: center;"><em>lv_oh_1ph_len_mi</em></td>
<td style="text-align: center;">Float</td>
<td style="text-align: center;">miles</td>
<td style="text-align: center;">The total length of low voltage, overhead, 1 phase lines.</td>
<td style="text-align: center;">Needs the nominal voltages and line_type.</td>
</tr>
<tr>
<td style="text-align: center;"><em>max_lv_line:</em></td>
<td style="text-align: center;">Float</td>
<td style="text-align: center;">miles</td>
<td style="text-align: center;">The maximum length between a distribution transformer and a low voltage customer.</td>
<td style="text-align: center;">Needs the nominal voltages</td>
</tr>
<tr>
<td style="text-align: center;"><em>lv_2ph_len_mi</em></td>
<td style="text-align: center;">Float</td>
<td style="text-align: center;">miles</td>
<td style="text-align: center;">The total length of low voltage, 2 phase lines.</td>
<td style="text-align: center;">Needs the nominal voltages</td>
</tr>
<tr>
<td style="text-align: center;"><em>lv_oh_2ph_len_mi</em></td>
<td style="text-align: center;">Float</td>
<td style="text-align: center;">miles</td>
<td style="text-align: center;">The total length of low voltage, overhead, 2 phase lines.</td>
<td style="text-align: center;">Needs the nominal voltages and line_type.</td>
</tr>
<tr>
<td style="text-align: center;"><em>perct_lv_oh_len</em></td>
<td style="text-align: center;">Float</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">Percentage of LV lines that are overhead lines.</td>
<td style="text-align: center;">Needs the nominal voltages and line_type.</td>
</tr>
<tr>
<td style="text-align: center;"><em>ratio_lv_len_to_num_cust</em></td>
<td style="text-align: center;">Float</td>
<td style="text-align: center;">miles</td>
<td style="text-align: center;">lv_length_miles devided by the number of customers.</td>
<td style="text-align: center;">Needs nominal voltages and load information.</td>
</tr>
</tbody>
</table>
<h3 id="voltage-control-schemes">Voltage control schemes</h3>
<table>
<thead>
<tr>
<th style="text-align: center;">Metric name</th>
<th style="text-align: center;">Type</th>
<th style="text-align: center;">Unit</th>
<th style="text-align: center;">Metric description</th>
<th style="text-align: center;">Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><em>num_regulators</em></td>
<td style="text-align: center;">Integer</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">The number of regulator objects.</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><em>num_capacitors</em></td>
<td style="text-align: center;">Integer</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">The number of capacitor banks.</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><em>num_boosters</em></td>
<td style="text-align: center;">Integer</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">The number of boosters.</td>
<td style="text-align: center;">Boosters are not currently implemented in DiTTo.</td>
</tr>
<tr>
<td style="text-align: center;"><em>avg_regulator_sub_distance_mi</em></td>
<td style="text-align: center;">Float</td>
<td style="text-align: center;">miles</td>
<td style="text-align: center;">Mean distance between the substation and regulator objects.</td>
<td style="text-align: center;">If no regulator, this metric is Nan.</td>
</tr>
<tr>
<td style="text-align: center;"><em>avg_capacitor_sub_distance_mi</em></td>
<td style="text-align: center;">Float</td>
<td style="text-align: center;">miles</td>
<td style="text-align: center;">Mean distance between the substation and capacitor bank objects.</td>
<td style="text-align: center;">If no capacitor, this metric is Nan.</td>
</tr>
</tbody>
</table>
<h3 id="basic-protection">Basic protection</h3>
<table>
<thead>
<tr>
<th style="text-align: center;">Metric name</th>
<th style="text-align: center;">Type</th>
<th style="text-align: center;">Unit</th>
<th style="text-align: center;">Metric description</th>
<th style="text-align: center;">Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><em>num_fuses</em></td>
<td style="text-align: center;">Integer</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">Number of Fuses.</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><em>num_reclosers</em></td>
<td style="text-align: center;">Integer</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">Number of Reclosers.</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><em>num_sectionalizers</em></td>
<td style="text-align: center;">Integer</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">Number of Sectionalizers.</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><em>num_sectionalizers_per_recloser</em></td>
<td style="text-align: center;">Float</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;"><em>No_of_Sectionalizers</em> divided by <em>No_of_Reclosers</em>.</td>
<td style="text-align: center;">If no recloser, this metric is Nan</td>
</tr>
<tr>
<td style="text-align: center;"><em>avg_recloser_sub_distance_mi</em></td>
<td style="text-align: center;">Float</td>
<td style="text-align: center;">miles</td>
<td style="text-align: center;">Mean distance between the substation and recloser objects.</td>
<td style="text-align: center;">If no recloser, this metric is Nan</td>
</tr>
<tr>
<td style="text-align: center;"><em>num_breakers</em></td>
<td style="text-align: center;">Integer</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">Number of Breakers.</td>
<td style="text-align: center;"></td>
</tr>
</tbody>
</table>
<h3 id="reconfiguration-options">Reconfiguration Options</h3>
<table>
<thead>
<tr>
<th style="text-align: center;">Metric name</th>
<th style="text-align: center;">Type</th>
<th style="text-align: center;">Unit</th>
<th style="text-align: center;">Metric description</th>
<th style="text-align: center;">Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><em>num_switches</em></td>
<td style="text-align: center;">Integer</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">Number of switches.</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><em>num_interruptors</em></td>
<td style="text-align: center;">Integer</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">Number of interruptors.</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><em>num_links_adjacent_feeders</em></td>
<td style="text-align: center;">Integer</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">Number of links between the current feeder and other feeders.</td>
<td style="text-align: center;">This metrics only works when computing metrics per feeder on a system with multiple feeders.</td>
</tr>
<tr>
<td style="text-align: center;"><em>num_loops</em></td>
<td style="text-align: center;">Integer</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">Number of loops within the feeder.</td>
<td style="text-align: center;"></td>
</tr>
</tbody>
</table>
<h3 id="transformers">Transformers</h3>
<table>
<thead>
<tr>
<th style="text-align: center;">Metric name</th>
<th style="text-align: center;">Type</th>
<th style="text-align: center;">Unit</th>
<th style="text-align: center;">Metric description</th>
<th style="text-align: center;">Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><em>num_distribution_transformers</em></td>
<td style="text-align: center;">Integer</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">Number of distribution transformers.</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><em>num_overloaded_transformers</em></td>
<td style="text-align: center;">Integer</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">Number of distribution transformers where its secondary KVA rating is smaller than the sum of downstream load KVA.</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><em>sum_distribution_transformer_mva</em></td>
<td style="text-align: center;">Float</td>
<td style="text-align: center;">MVA</td>
<td style="text-align: center;">Sum of distribution transformer total capacity (sum of ratings accross the windings)</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><em>num_1ph_transformers</em></td>
<td style="text-align: center;">Integer</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">Number of one phase transformers.</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><em>num_3ph_transformers</em></td>
<td style="text-align: center;">Integer</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">Number of three phase transformers.</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><em>ratio_1ph_to_3ph_transformers</em></td>
<td style="text-align: center;">Float</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;"><em>nb_1ph_Xfrm</em> divided by <em>nb_3ph_Xfrm</em></td>
<td style="text-align: center;">if there is no three phase transformer, this metric is Nan.</td>
</tr>
</tbody>
</table>
<h3 id="substations">Substations</h3>
<table>
<thead>
<tr>
<th style="text-align: center;">Metric name</th>
<th style="text-align: center;">Type</th>
<th style="text-align: center;">Unit</th>
<th style="text-align: center;">Metric description</th>
<th style="text-align: center;">Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><em>substation_name</em></td>
<td style="text-align: center;">String</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">The name of the substation.</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><em>sub_capacity_mva</em></td>
<td style="text-align: center;">Float</td>
<td style="text-align: center;">MVA</td>
<td style="text-align: center;">The capacity of the substation.</td>
<td style="text-align: center;"></td>
</tr>
</tbody>
</table>
<h3 id="load-specification">Load specification</h3>
<table>
<thead>
<tr>
<th style="text-align: center;">Metric name</th>
<th style="text-align: center;">Type</th>
<th style="text-align: center;">Unit</th>
<th style="text-align: center;">Metric description</th>
<th style="text-align: center;">Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><em>sum_load_kw</em></td>
<td style="text-align: center;">Float</td>
<td style="text-align: center;">Watts</td>
<td style="text-align: center;">Total active power demand.</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><em>sum_load_pha_kw</em></td>
<td style="text-align: center;">Float</td>
<td style="text-align: center;">Watts</td>
<td style="text-align: center;">Total active power demand on phase A.</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><em>sum_load_phb_kw</em></td>
<td style="text-align: center;">Float</td>
<td style="text-align: center;">Watts</td>
<td style="text-align: center;">Total active power demand on phase B.</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><em>sum_load_phc_kw</em></td>
<td style="text-align: center;">Float</td>
<td style="text-align: center;">Watts</td>
<td style="text-align: center;">Total active power demand on phase C.</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><em>sum_load_kvar</em></td>
<td style="text-align: center;">Float</td>
<td style="text-align: center;">Vars</td>
<td style="text-align: center;">Total reactive power demand.</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><em>perct_lv_pha_load_kw</em></td>
<td style="text-align: center;">Float</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">Percentage of low voltage active power demand on phase A.</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><em>perct_lv_phb_load_kw</em></td>
<td style="text-align: center;">Float</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">Percentage of low voltage active power demand on phase B.</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><em>perct_lv_phc_load_kw</em></td>
<td style="text-align: center;">Float</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">Percentage of low voltage active power demand on phase C.</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><em>num_lv_1ph_loads</em></td>
<td style="text-align: center;">Integer</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">Number of low voltage, 1 phase loads</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><em>num_lv_3ph_loads</em></td>
<td style="text-align: center;">Integer</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">Number of low voltage, 3 phase loads</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><em>num_mv_3ph_loads</em></td>
<td style="text-align: center;">Integer</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">Number of medium voltage, 3 phase loads</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><em>avg_num_load_per_transformer</em></td>
<td style="text-align: center;">Float</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">Average number of loads per distribution transformer.</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><em>avg_load_pf</em></td>
<td style="text-align: center;">Float</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">Average power factor for loads.</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><em>avg_load_imbalance_by_phase</em></td>
<td style="text-align: center;">Float</td>
<td style="text-align: center;">Watts</td>
<td style="text-align: center;">TODO</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><em>num_customers</em></td>
<td style="text-align: center;">Integer</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">Number of customers.</td>
<td style="text-align: center;">Need customer information.</td>
</tr>
<tr>
<td style="text-align: center;"><em>customer_density</em></td>
<td style="text-align: center;">Float</td>
<td style="text-align: center;">per square miles</td>
<td style="text-align: center;"><em>No_of_Customers</em> divided by the convex Hull surface of the feeder.</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><em>load_density_kw</em></td>
<td style="text-align: center;">Float</td>
<td style="text-align: center;">per square miles</td>
<td style="text-align: center;"><em>Total_Demand_kW</em> divided by the convex Hull surface of the feeder.</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><em>load_density_kvar</em></td>
<td style="text-align: center;">Float</td>
<td style="text-align: center;">per square miles</td>
<td style="text-align: center;"><em>Total_Reactive_Power_kVar</em> divided by the convex Hull surface of the feeder.</td>
<td style="text-align: center;"></td>
</tr>
</tbody>
</table>
<h3 id="graph-topology">Graph Topology</h3>
<table>
<thead>
<tr>
<th style="text-align: center;">Metric name</th>
<th style="text-align: center;">Type</th>
<th style="text-align: center;">Unit</th>
<th style="text-align: center;">Metric description</th>
<th style="text-align: center;">Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><em>avg_degree</em></td>
<td style="text-align: center;">Float</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">Mean degree.</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><em>Char_path_Length</em></td>
<td style="text-align: center;">Float</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">Average path length.</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: center;"><em>diameter</em></td>
<td style="text-align: center;">Float</td>
<td style="text-align: center;">-</td>
<td style="text-align: center;">Diameter of the graph.</td>
<td style="text-align: center;"></td>
</tr>
</tbody>
</table>
<h2 id="how-to-compute-the-metrics">How to compute the metrics</h2>
<h3 id="easy-situation-compute-metrics-on-a-single-feeder">Easy situation: compute metrics on a single feeder</h3>
<h4 id="method-1-command-line-interface">Method 1: Command Line Interface</h4>
<p>Not implemented yet.</p>
<h4 id="method-2-using-a-python-script">Method 2: Using a Python script</h4>
<h5 id="step-1-read-the-model-into-ditto">Step 1: Read the model into DiTTo</h5>
<p>We assume that we have a model in OpenDSS representing a single feeder, and that we want to compute all the available metrics on it. The first step is to read in the model (more information on reading capabilities in <code>cli-examples.md</code>)</p>
<pre><code class="language-python">
from ditto.model.store import Store
from ditto.readers.opendss.read import Reader

model = Store() #Create a Store object

#Initialize the reader with the master and coordinate files of our system
dss_reader = Reader(master_file='./OpenDSS/master.dss',
                    buscoordinates_file='./OpenDSS/buscoords.dss')

#Parse...
dss_reader.parse(model)
</code></pre>
<h5 id="step-2-modify-the-model-optional">Step 2: Modify the model (optional)</h5>
<p>This step is optional but most of the time needed. In our example, since we are reading from OpenDSS, we do not have information on the nominal voltages for <code>Nodes</code> and <code>Lines</code>. Since a lot of metrics are divided according to low voltage (LV) and medium voltage (MV), we need to add this information.</p>
<p>In this situation, we have the nominal voltage of the source as well as the nominal voltage of the transformers (primary and secondary). We can use the following approach that will go from the source down to the customers and set the nominal voltages of the equipments:</p>
<pre><code class="language-python">from ditto.modify.system_structure import system_structure_modifier

#Create a system_structure_modifier object
#We can specify the name of the source and its voltage
#Otherwise, the source and its voltage will be search in the model
modifier = system_structure_modifier(model)

#Set the nominal voltages of all nodes in the system
modifier.set_nominal_voltages_recur()

#Use the nodes voltages to set the nominal voltages of the lines
modifier.set_nominal_voltages_recur_line()
</code></pre>
<p>This example only shows one of the modification possibilities. More information on modifications and post-processing can be found in <code>modifications.md</code></p>
<h5 id="step-3-compute-the-metrics">Step 3: Compute the metrics</h5>
<p>This step of the process creates a <code>NetworkAnalyzer</code> object with the modified model and compute the metrics on it:</p>
<pre><code class="language-python">from ditto.metrics.network_analysis import NetworkAnalyzer

#Instanciate the NetworkAnalyzer object
#WARNING: In case the model was modified, we need to use modifier.model
#If we did not do any changes, then simply pass model
#Again, the name of the source can be provided to avoid the search
network_analyst = NetworkAnalyzer(modifier.model)

#Compute all the metrics
network_analyst.compute_all_metrics()
</code></pre>
<p>In this example, we have a single feeder so we call the <code>compute_all_metrics()</code> method. It is also possible to compute metrics per feeder when we have a system with multiple feeders using the <code>compute_all_metrics_per_feeder()</code> method. The process might be a bit more complicated since the network has to be properly partitioned. More information for this process is available in the section "Advanced: Compute metrics for multiple feeders".</p>
<h5 id="step-4-viewexport-the-results">Step 4: View/export the results</h5>
<p>The final step of the process is obviously to have a look at the metrics. There are mainly two ways to do so. The first method is simply to look at the <code>results</code> attribute of the <code>NetworkAnalyzer</code>:</p>
<pre><code class="language-python">print(network_analyst.results)
</code></pre>
<p>This prints a dictionary where the keys are the feeder names (in our case we have only one key since we have only one feeder), and the values are dictionaries holding the metrics:</p>
<pre><code class="language-json">{'name_of_feeder1': {'name_of_metric1': value1,
                     'name_of_metric2': value2,
                     ...
                    }
'name_of_feeder2': {'name_of_metric1': value1,
                    'name_of_metric2': value2,
                     ...
                    }
 ...
}
</code></pre>
<p>Getting a the value of a specific metric for a given feeder:</p>
<pre><code class="language-python">print(network_analyst.results['name_of_feeder1']['name_of_metric2'])
</code></pre>
<p>The second method is to export the metrics first and look at the export. The metrics can be exported to Excel using:</p>
<pre><code class="language-python">#Provide the path to the file
network_analyst.export('./output/metrics.xlsx')
</code></pre>
<p>Note that this will not export distribution metrics. To export everything in <code>network_analyst.results</code> use the JSON export method:</p>
<pre><code class="language-python">network_analyst.export_json('./output/metrics.json')
</code></pre>
<h3 id="advanced-compute-metrics-for-multiple-feeders">Advanced: compute metrics for multiple feeders</h3>
<h4 id="method-1-command-line-interface_1">Method 1: Command Line Interface</h4>
<p>Not implemented yet.</p>
<h4 id="method-2-using-a-python-script_1">Method 2: Using a Python script</h4>
<p>It is also possible to extract metrics when we have a system composed of multiple feeders. In this situation, we might want to:</p>
<ul>
<li>compute the metrics on the whole system</li>
<li>compute the metrics for all feeders</li>
</ul>
<p>The first point is straightforward, just proceed as for the single feeder case.</p>
<h5 id="step-1-and-2-read-and-modify-as-before">Step 1 and 2: Read and modify as before</h5>
<p>For computing metrics per feeder, we first read the model into DiTTo and apply, if needed, modifications to it (exactly as for the single feeder case):</p>
<pre><code class="language-python">from ditto.model.store import Store
from ditto.readers.opendss.read import Reader
from ditto.modify.system_structure import system_structure_modifier

model = Store() #Create a Store object

#Initialize the reader with the master and coordinate files of our system
dss_reader = Reader(master_file='./OpenDSS/master.dss',
                    buscoordinates_file='./OpenDSS/buscoords.dss')

#Parse...
dss_reader.parse(model)

#Create a system_structure_modifier object
#We can specify the name of the source and its voltage
#Otherwise, the source and its voltage will be search in the model
modifier = system_structure_modifier(model)

#Set the nominal voltages of all nodes in the system
modifier.set_nominal_voltages_recur()

#Use the nodes voltages to set the nominal voltages of the lines
modifier.set_nominal_voltages_recur_line()
</code></pre>
<h5 id="step-3-create-a-network-analyzer">Step 3: Create a network analyzer</h5>
<p>We then create a <code>NetworkAnalyzer</code> object as for the single feeder case:</p>
<pre><code class="language-python">from ditto.metrics.network_analysis import NetworkAnalyzer

#Instanciate the NetworkAnalyzer object
network_analyst = NetworkAnalyzer(modifier.model)
</code></pre>
<h5 id="step-4-provide-information-on-the-feeder-compositions">Step 4: Provide information on the feeder compositions</h5>
<p>Now, we need to provide feeder information to the <code>NetworkAnalyzer</code> using the <code>add_feeder_information()</code> method wich takes the following inputs:</p>
<ul>
<li><code>feeder_names</code> List of names for the feeders</li>
<li><code>feeder_nodes</code> List of lists which contains all nodes in the feeders. Thats is, <code>feeder_nodes[2]</code>is the full list of nodes belonging to <code>feeder_names[2]</code></li>
<li><code>substations</code> List of the substation names.</li>
<li><code>feeder_types</code> This could be a list of strings to tag each feeder with a type (<code>industrial</code> <code>rural</code> or a single string to tag all feeders with the same type.</li>
</ul>
<p>Example:</p>
<pre><code class="language-python">#Fake feeder information
feeder_names = ['feeder_1', 'feeder_2', 'feeder_3']
feeder_nodes = [ ['A','B','C'], ['D','E','F','G','H'], ['I','J','K','L']]
substations = ['sub_1', 'sub2', 'sub3']
feeder_types = ['industrial', 'rural', 'urban']

#Add the feeder information to the network analyzer
network_analyst.add_feeder_information(feeder_names, feeder_nodes, substations, feeder_types)
</code></pre>
<p>This means that you currently have to generate the 4 arguments yourself. Algorithms to automatically split a given network into multiple feeders are currently tested yet but none has been released yet.</p>
<h5 id="step-5-split-the-network-and-compute-the-metrics">Step 5: Split the network and compute the metrics</h5>
<p>Once this is done, we simply have to call the following methods:</p>
<pre><code class="language-python">#Split the network representation into multiple subnetworks
network_analyst.split_network_into_feeders()

#Loop over the DiTTo objects and set the feeder_name attribute
network_analyst.tag_objects()

#Set the names
network_analyst.model.set_names()

#Compute the metrics per feeders
network_analyst.compute_all_metrics_per_feeder()
</code></pre>
<h4 id="step-6-export-the-metrics">Step 6: Export the metrics</h4>
<p>This works exactly as for the single feeder case.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../installation/" class="btn btn-neutral float-left" title="Installation"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../modifications/" class="btn btn-neutral float-right" title="Modifications documentation">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../installation/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../modifications/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
